!function(r){"use strict";r.fn.retinizeImages=function(i){var a=r.extend({retinaSupportMobile:!1,retinaSuffix:"@2x"},i),n=!(window.isRetinaDevice=function(){return!!(1<this.devicePixelRatio||this.matchMedia&&this.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)});return(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(n=!0),this.each(function(){var i,e,t=r(this);if(t.is("img"))e=t.attr("src");else if("none"!==t.css("background-image"))e=t.css("background-image").replace(/^url\(["']?/,"").replace(/["']?\)$/,"");else{if(!t.is("[data-2x]"))return!1;e=t.data("2x")}if(n&&!a.retinaSupportMobile&&!t.is("[data-retina-mobile]")||t.is("[data-no-retina]")||e.match(/\.(svg)/i)||0<=e.indexOf(a.retinaSuffix))return!1;window.isRetinaDevice()&&(i=e.substr(e.lastIndexOf(".")),e=e.replace(i,a.retinaSuffix+i),r.ajax({type:"GET",url:e,success:function(){r("<img/>").attr("src",e).one("load",function(){t.is("img")?t.attr("src",e):t.css("background-image","url("+e+")")})}}))})}}(jQuery);