!function(l,i,d,a){"use strict";function e(i,a){var t=l.extend({},l.fn.snowBridge.tmpOpts,a),e=l(i);e.data("animating",!1).data("setup",!1),t.fadeInOut=!e.is('[data-fade-in-out="false"]')&&t.fadeInOut,1<t.parallaxFactor&&(t.parallaxFactor=1),e.data("setup",!0),function(i,a){var t=l('<div class="tm-parallax" />').prependTo(l(i));f&&t.css({height:""}).addClass("tmp-mobile");l('<div class="tm-loader"><svg id="circle" viewBox="25 25 50 50"><circle class="stroke" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>').appendTo(t);var e=i.data("src"),n=e.substr(e.lastIndexOf("."));(d.isRetinaDevice()&&a.retinaSupport||d.isRetinaDevice()&&i.is("[data-retina]"))&&(!f&&!a.retinaSupportMobile||f&&a.retinaSupportMobile)&&(e.match(/\.(svg)/i)||(e=i.data("retina")?i.data("retina"):i.data("src").replace(n,a.retinaSuffix+n)));l('<img class="tmp-media"/>').attr("src",e).one("load",function(){l(this).attr("src",e).appendTo(t),t.find(".tm-loader").remove(),function(i,a){var t=i.find(".tm-parallax"),e=i.find(".tmp-media"),n=e.attr("src");t.css({"background-image":"url("+n+")"}),e.hide(),t.css({opacity:0}),u&&m(i)?t.css({visibility:"visible",transitionProperty:"opacity",transitionDuration:"1000ms",opacity:1}):t.css({visibility:"visible"}).animate({opacity:1});l(d).on("resize",function(){o(i,a),r(i,a)}).resize(),l(d).on("scroll",function(){r(i,a)}),a.onLoaded&&a.onLoaded()}(i,a)}).on("error",function(){console.log("Error src:"+e)})}(e,t)}var r=function(i,a){i.data("animating")||(d.requestAnimationFrame(function(){t(i,a)}),i.data("animating",!0))},o=function(i,a){var t=i.find(".tm-parallax"),e=l(d).height(),n=(i.height(),(i.height()+e)*a.parallaxFactor);if((a.fullscreen||a.scaleContainer)&&t.css({height:n+"px"}),!i.data("setup"))return!1;i.data("scrollDistContainer",n)},t=function(i,a){var t=i.find(".tm-parallax");if(m(i)){if(f)return!1;var e,n,r,o=i.height()+i.offset().top-l(d).scrollTop(),s=i.offset().top-l(d).scrollTop(),c=(0-t.height()/2)/2*(o/i.data("scrollDistContainer"))*a.parallaxFactor;u?t.css({transform:"translate3d( 0px, "+c+"px, 0px)",visibility:"visible"}).removeClass("out-of-view"):t.css({top:c+"px",visibility:"visible"}),a.fadeInOut&&(n=l(d).height(),s<=(r=1<a.fadeThreshold?.5*i.height():i.height()*a.fadeThreshold)&&(e=1<Math.abs(o/r)?1:Math.abs(o/r)),s<=n&&n-r<=s&&(e=1<(n-s)/r?1:(n-s)/r),t.css({opacity:(Math.ceil(100*e)/100).toFixed(2)}))}else f||t.css({visibility:"hidden"}).addClass("out-of-view");i.data("animating",!1)},m=function(i){var a=l(d).scrollTop(),t=a+l(d).height(),e=i.offset().top,n=e+i.outerHeight();return e<=t&&a<=n};d.isRetinaDevice=function(){return!!(1<this.devicePixelRatio||this.matchMedia&&this.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)};var n=(i.body||i.documentElement).style,u=n.transition!==a||n.WebkitTransition!==a||n.MozTransition!==a||n.MsTransition!==a||n.OTransition!==a,s=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var c in s)n[s[c]]!==a&&s[c].replace("Transform","").toLowerCase();var f=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(f=!0),function(){for(var r=0,i=["ms","moz","webkit","o"],a=0;a<i.length&&!d.requestAnimationFrame;++a)d.requestAnimationFrame=d[i[a]+"RequestAnimationFrame"],d.cancelAnimationFrame=d[i[a]+"CancelAnimationFrame"]||d[i[a]+"CancelRequestAnimationFrame"];d.requestAnimationFrame||(d.requestAnimationFrame=function(i,a){var t=(new Date).getTime(),e=Math.max(0,16-(t-r)),n=d.setTimeout(function(){i(t+e)},e);return r=t+e,n}),d.cancelAnimationFrame||(d.cancelAnimationFrame=function(i){clearTimeout(i)})}(),l.fn.snowBridge=function(t){return this.each(function(){var i,a=l(this);a.data("snowBridge")||(i=new e(this,t),a.data("snowBridge",i))})},l.fn.snowBridge.tmpOpts={fullscreen:!1,parallaxFactor:.6,fadeInOut:!1,fadeThreshold:.5,retinaSupport:!0,retinaSupportMobile:!1,retinaSuffix:"@2x",onLoaded:null}}(jQuery,document,window);